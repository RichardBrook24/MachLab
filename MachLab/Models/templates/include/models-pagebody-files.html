<div class="container new-discussion-timeline experiment-repo-nav  ">
    <div class="repository-content ">
        <div class="js-repo-meta-container">
            <div class="repository-meta mb-0 mb-3 js-repo-meta-edit js-details-container ">
                <div class="repository-meta-content col-11 mb-1">
                    <span class="col-11 text-gray-dark mr-2" itemprop="about">
                        {{model.description}}
                    </span>
                </div>
            </div>
        </div>

        <div class="overall-summary overall-summary-bottomless">
            <div class="stats-switcher-viewport js-stats-switcher-viewport">
                <div class="stats-switcher-wrapper">
                    <ul class="numbers-summary">
                        <li class="commits">
                            <a data-pjax="" href="/RichardBrook24/MachLab/commits/master">
                                <svg class="octicon octicon-history" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 13H6V6h5v2H8v5zM7 1C4.81 1 2.87 2.02 1.59 3.59L0 2v4h4L2.5 4.5C3.55 3.17 5.17 2.3 7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-.34.03-.67.09-1H.08C.03 7.33 0 7.66 0 8c0 3.86 3.14 7 7 7s7-3.14 7-7-3.14-7-7-7z"></path></svg>
                                <span class="num text-emphasized">{{commit_count}}</span> commits
                            </a>
                        </li>

                        <li>
                            <a data-pjax="" href="/RichardBrook24/MachLab/branches">
                                <svg class="octicon octicon-git-branch" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 5c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v.3c-.02.52-.23.98-.63 1.38-.4.4-.86.61-1.38.63-.83.02-1.48.16-2 .45V4.72a1.993 1.993 0 0 0-1-3.72C.88 1 0 1.89 0 3a2 2 0 0 0 1 1.72v6.56c-.59.35-1 .99-1 1.72 0 1.11.89 2 2 2 1.11 0 2-.89 2-2 0-.53-.2-1-.53-1.36.09-.06.48-.41.59-.47.25-.11.56-.17.94-.17 1.05-.05 1.95-.45 2.75-1.25S8.95 7.77 9 6.73h-.02C9.59 6.37 10 5.73 10 5zM2 1.8c.66 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2C1.35 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2zm0 12.41c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm6-8c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
                                <span class="num text-emphasized">{{upload_count}}</span> uploads
                            </a>
                        </li>

                        <li>
                            <a href="/RichardBrook24/MachLab/releases">
                                <svg class="octicon octicon-tag" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.685 1.72a2.49 2.49 0 0 0-1.76-.726H3.48A2.5 2.5 0 0 0 .994 3.48v2.456c0 .656.269 1.292.726 1.76l6.024 6.024a.99.99 0 0 0 1.402 0l4.563-4.563a.99.99 0 0 0 0-1.402L7.685 1.72zM2.366 7.048A1.54 1.54 0 0 1 1.9 5.925V3.48c0-.874.716-1.58 1.58-1.58h2.456c.418 0 .825.159 1.123.467l6.104 6.094-4.702 4.702-6.094-6.114zm.626-4.066h1.989v1.989H2.982V2.982h.01z"></path></svg>
                                <span class="num text-emphasized">{{download_count}}</span> downloads
                            </a>
                        </li>

                        <li>
                            <a href="/RichardBrook24/MachLab/graphs/contributors">
                            <svg class="octicon octicon-organization" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 12.999c0 .439-.45 1-1 1H7.995c-.539 0-.994-.447-.995-.999H1c-.54 0-1-.561-1-1 0-2.634 3-4 3-4s.229-.409 0-1c-.841-.621-1.058-.59-1-3 .058-2.419 1.367-3 2.5-3s2.442.58 2.5 3c.058 2.41-.159 2.379-1 3-.229.59 0 1 0 1s1.549.711 2.42 2.088C9.196 9.369 10 8.999 10 8.999s.229-.409 0-1c-.841-.62-1.058-.59-1-3 .058-2.419 1.367-3 2.5-3s2.437.581 2.495 3c.059 2.41-.158 2.38-1 3-.229.59 0 1 0 1s3.005 1.366 3.005 4z"></path></svg>
                            <span class="num text-emphasized">{{comment_count}}</span> comments
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
       
        <div class="file-navigation in-mid-page d-flex flex-items-start">
            {% if request.user.is_authenticated %}
            {% if request.user.username == username %}
            <div class="BtnGroup">
                <form id="upload-file-form" action="/models/upload" method="post" enctype="multipart/form-data" >
                    <script type="text/javascript">
                        function selectFile() { 
                            document.getElementById("upload_files").click(); 
                        }

                        function uploadFile() { 
                            var option = {
                                url : "/models/upload",
                                type : 'POST',
                                datatype:'json',
                                clearForm: true,
                                //error:function(data){
                                //    alert("文件上传请求失败！");
                                //}
                            };
                            $("#upload-file-form").ajaxSubmit(option);
                        }
                    </script>
                    {% csrf_token %}
                    <input type="hidden" name="username" value="{{username}}" />
                    <input type="hidden" name="model_name" value="{{model.model_name}}" />
                    <input type="file" id="upload_file" name="upload_file" style="display:none" onchange="uploadFile()" />
                    <input type="button" class="btnM btnM-sm BtnGroup-item" value="Upload files" onclick="selectFile()" />
                    <input type="hidden" id="next" name="next" value="/models/{{username}}/{{model.model_name}}" />
                </form>
            </div>
            {% endif %}
                
            <div class="BtnGroup">
                <form action="/models/download" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <input type="hidden" name="username" value="{{username}}" />
                    <input type="hidden" name="model_name" value="{{model.model_name}}" />
                    <input type="submit" class="btnM btnM-sm BtnGroup-item branch-select-menu" value="Download files" />
                    <input type="hidden" name="next" value="/models/{{username}}/{{model.model_name}}" />
                </form>
            </div>
            {% endif %}
            <!--<div class="breadcrumb flex-auto"></div>
            <div class="branch-infobar">
                <span class="float-right">
                    <a class="muted-link" href="">
                        <svg class="octicon octicon-diff" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 7h2v1H6v2H5V8H3V7h2V5h1v2zm-3 6h5v-1H3v1zM7.5 2L11 5.5V15c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h6.5zM10 6L7 3H1v12h9V6zM8.5 0H3v1h5l4 4v8h1V4.5L8.5 0z"></path></svg>
                        Compare
                    </a>
                </span>
                This model has {{commit_count}} commits for {{model.model_name}}.
            </div>-->
        </div>
            
        <div class="commit-tease js-details-container Details d-flex">
            <div class="AvatarStack flex-self-start ">
                <div class="AvatarStack-body" aria-label="{{username}}">
                    <a class="avatar" href="/{{username}}">
                        <img alt="@{{username}}" src="/static/media/{{avatar}}" width="20" height="20">
                    </a>  
                </div>
            </div>

            <div class="flex-auto f6 no-wrap mr-3">
                <a href="" class="commit-author tooltipped tooltipped-s user-mention" aria-label="View all commits by {{username}}">{{username}}</a>
                <span data-pjax="true" title="{{latestCommit.description}}" class="message" href="">{{latestCommit.description}}</span>
            </div>
            <div class="no-wrap">
                Latest commit
                <span itemprop="dateModified"><relative-time datetime="{{latestCommit.commit_time}}" title="{{latestCommit.commit_datetime}}">on {{latestCommit.commit_datetime}}</relative-time></span>
            </div>
        </div>
            
        <div class="file-wrap">
            <table class="files js-navigation-container js-active-navigation-container" data-pjax="">
                <tbody>
                    {% for modelfile in modelfiles %}
                        <tr class="js-navigation-item" aria-selected="false">
                            <td class="icon">
                                <svg class="octicon octicon-file" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"></path></svg>
                            </td>
                            <td class="content">
                                <span class="css-truncate css-truncate-target"><a class="js-navigation-open" title="{{modelfile.file}}" id="{{modelfile.filename}}" href="/models/{{username}}/{{model.model_name}}/{{modelfile.filename}}">{{modelfile.filename}}</a></span>
                            </td>
                            <td class="message">
                                <span class="css-truncate css-truncate-target">&nbsp;{{modelfile.description}}</span>
                            </td>
                            <td class="age">
                                <span class="css-truncate css-truncate-target"><time-ago datetime="{{modelfile.modified_datetime}}" title="{{modelfile.modified_datetime}}">&nbsp;{{modelfile.modified_datetime}}</time-ago></span>
                            </td>
                        </tr>
                    {% empty %}
                        <tr class="warning include-fragment-error">
                            <td class="icon"><svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></td>
                            <td class="content" colspan="3">Failed to load latest commit information.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>